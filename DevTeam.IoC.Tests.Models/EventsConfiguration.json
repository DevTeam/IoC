[
    { "reference": "DevTeam.IoC.Configurations.Json" },
    { "reference": "DevTeam.IoC.Tests.Models" },

    { "using": "System" },
    { "using": "DevTeam.IoC.Configurations.Json" },
    { "using": "DevTeam.IoC.Tests.Models" },

    { "dependency.wellknown": "All" },
    { "dependency.reference": "PlatformConfiguration.json", "Type": "JsonConfiguration" },

    {
        "CreateChild": [
            {
                "Register": [
                    { "Scope": "Global" },
                    { "Lifetime": "PerResolve" },
                    { "Lifetime": "AutoDisposing" },
                    { "Contract": [ "IEventRegistry" ] }
                ],
                "AsAutowiring": "EventRegistry"
            },

            {
                "Register": [
                    { "Scope": "Internal" },
                    { "Lifetime": "PerResolve" },
                    { "Lifetime": "AutoDisposing" },
                    { "Contract": [ "IEventBroker" ] }
                ],
                "AsAutowiring": "EventBroker"
            },

            {
                "Register": [
                    { "Scope": "Internal" },
                    { "Lifetime": "PerResolve" },
                    { "Lifetime": "AutoDisposing" },
                    { "Contract": [ "IEvent<>" ] },
                    { "KeyComparer": "AnyState" }
                ],
                "AsAutowiring": "Event<>"
            },

            {
                "Register": [
                    { "Scope": "Internal" },
                    { "Contract": [ "long" ] },
                    { "Tag": "IdGenerator" }
                ],
                "AsFactoryMethod": "IdGenerator.GenerateId"
            },

            {
                "Register": [
                    { "Scope": "Internal" },
                    { "Lifetime": "PerResolve" },
                    { "Lifetime": "AutoDisposing" },
                    { "Contract": [ "IEventSource<DateTimeOffset>" ] }
                ],
                "AsAutowiring": "TimerSource"
            },

            {
                "Register": [
                    { "Scope": "Internal" },
                    { "Lifetime": "PerResolve" },
                    { "Lifetime": "AutoDisposing" },
                    { "Contract": [ "IEventListener<>" ] }
                ],
                "AsAutowiring": "ConsoleListener<>"
            }
        ]
    }
]
