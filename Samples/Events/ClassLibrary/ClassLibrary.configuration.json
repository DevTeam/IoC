[
    { "reference": "Contracts" },
    { "reference": "ClassLibrary" },

    { "using": "System" },
    { "using": "System.Collections.Generic" },
    { "using": "Contracts" },
    { "using": "ClassLibrary" },

    { "dependency.feature": "Default" },

    { "register": [ { "contract": [ "IName<>" ] } ], "autowiring": "Name<>" },
    { "register": [ { "contract": [ "ILogger<>" ] } ], "autowiring": "Logger<>" },
    {
        "register": [ { "stateType": "DateTimeOffset" }, { "contract": [ "Event<DateTimeOffset>" ] } ],
        "autowiring": "Event<DateTimeOffset>",
        "constructor": [
            { "paramType": "ILogger<Event<DateTimeOffset>>" },
            { "paramType": "DateTimeOffset", "state": { "stateType": "DateTimeOffset" } }
        ]
    },
    { "register": [ { "contract": [ "IEventConsumer<Event<DateTimeOffset>>" ] } ], "autowiring": "Chronometer" },
    { "register": [ { "contract": [ "IEventConsumer<>" ] }, { "tag": "trace" }, { "lifetime" : "AutoDisposing" } ], "autowiring": "Tracer<>" },
    {
        "register": [ { "contract": [ "IEventProducer<Event<DateTimeOffset>>" ] } ],
        "autowiring": "Timer",
        "constructor": [
            { "paramType": "ILogger<Timer>" },
            { "paramType": "Func<DateTimeOffset, Event<DateTimeOffset>>" },
            { "paramType": "TimeSpan", "Value": "00:00:01" }
        ]
    },
    {
        "register": [ { "lifetime": "Singleton" }, { "lifetime": "AutoDisposing" }, { "contract": [ "IEventBroker" ] } ],
        "autowiring": "EventBroker<Event<DateTimeOffset>>"
    }
]
